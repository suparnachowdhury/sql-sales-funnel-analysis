# SQL Sales Funnel Analysis

## Project Overview
This project analyzes a B2B sales funnel using SQL to evaluate pipeline performance, sales effectiveness, product outcomes, and account-level revenue trends.  
The analysis is performed on a relational sales database and focuses on answering realistic business questions using SQL aggregation, joins, conditional logic, and common table expressions (CTEs).

The goal of this project is to demonstrate practical SQL skills used in real-world sales analytics scenarios.

---

## Purpose of This Project
- Showcase SQL proficiency for data analyst / data science roles
- Demonstrate the ability to translate business questions into SQL queries
- Practice real-world sales analytics use cases

---

## Database Used
**Database name:** `sales_funnel`

### Tables
- `sales_pipeline` — sales opportunities, deal stages, close values, engage date, close date, agents, and products  
- `sales_teams` — sales agents, managers, and regional offices  
- `products` — product-level pricing data  
- `accounts` — customer accounts, year established, office locations, revenue, and subsidiary relationships  

---

## Analysis Sections

### 1. Pipeline Metrics
- Monthly count of sales opportunities using `engage_date`
- Identification of the month with the highest opportunity volume
- Average time deals stayed open (`engage_date` → `close_date`)
- Comparison of deal duration by deal stage
- Overall loss rate across the pipeline
- Win rate by product

**SQL concepts used**
- `GROUP BY`
- `DATEDIFF`
- `CASE WHEN`
- Aggregation functions
- CTEs

---

### 2. Sales Agent & Team Performance
- Win rate by sales agent
- Total revenue generated by each agent
- Win rate by sales manager
- Regional office performance for a specific product (`GTX Plus Pro`)

**SQL concepts used**
- Conditional aggregation
- Joins between fact and dimension tables
- Performance ranking using `ORDER BY`

---

### 3. Product Analysis
- Top products by revenue vs. units sold for March deals
- Comparison between listed sales price and actual close value
- Identification of potential pricing or data consistency issues

**SQL concepts used**
- Date-based filtering
- Revenue vs. volume comparison
- Arithmetic operations across joined tables

---

### 4. Account Analysis
- Revenue by office location
- Subsidiary vs. parent company performance
- Identification of parent companies with the highest total revenue
- Lost opportunity analysis for subsidiary accounts

**SQL concepts used**
- Hierarchical account mapping
- CTEs for parent–child relationships
- Multi-table joins
- Aggregation across derived dimensions

---

## Key SQL Techniques Demonstrated
- Business-driven SQL problem solving
- Common Table Expressions (CTEs)
- Conditional logic with `CASE`
- Analytical aggregations
- Joining fact and dimension tables
- Revenue and performance metrics calculation

---

## How to Use
1. Load the database tables into a SQL environment (MySQL-compatible syntax used).
2. Run the queries section by section to reproduce the analysis.
3. Modify filters or dimensions to explore additional business questions.

---


## Author
**Suparna Chowdhury**  
SQL Portfolio Project
